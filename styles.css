/* ============================================
   CSS Custom Properties (Variables)
   ============================================ */

:root {
    /* Colors */
    --color-black: #1a1816;
    --color-white: #efece6;
    --color-sidebar-bg: #efece6;
    --color-border: #3a382f;
    --color-border-subtle: #3a382f;
    --color-text: #3a382f;
    --color-text-subtle: #666666;
    
    /* Type Scale */
    --font-size-h1: 1.75rem;
    --font-size-body: 1rem;
    --font-size-nav: 0.9rem;
    --font-size-logo: 1rem;
    
    /* Line Heights */
    --line-height-body: 1.8;
    --line-height-nav: 1.5;
    --line-height-base: 1.6;
    
    /* Letter Spacing */
    --letter-spacing-h1: 0.03em;
    --letter-spacing-logo: 0.05em;
    
    /* Spacing */
    --spacing-content-padding: 2rem 3rem;
    --spacing-sidebar-padding: 2rem 2rem;
    --spacing-logo-bottom: 3rem;
    --spacing-h1-bottom: 1.5rem;
    --spacing-p-bottom: 1.25rem;
    --spacing-nav-gap: 1.5rem;
    
    /* Layout */
    --sidebar-width: 300px;
    --content-max-width: 65ch;
    
    /* Shadows */
    --shadow-logo: none;
    
    /* Easing curves - weighted, natural motion */
    --ease-weighted: cubic-bezier(0.4, 0.0, 0.2, 1);
    --ease-lift: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --ease-press: cubic-bezier(0.55, 0.055, 0.675, 0.19);
}

/* ============================================
   Base Styles
   ============================================ */

html, body{
    font-family: "Plus Jakarta Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    background-color: var(--color-white);
    color: var(--color-text);
    margin: 0;
    padding: 0;
    height: 100vh;
    height: 100dvh;
    line-height: var(--line-height-base);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

::selection{
    background: rgba(26, 24, 22, 0.12);
    color: var(--color-text);
}

body{
    display: grid;
    grid-template-columns: var(--sidebar-width) 1fr;
    height: 100vh;
    height: 100dvh;
    overflow: hidden;
}

@media screen and (max-width: 767px) {
    html, body{
        margin: 0;
        padding: 0;
        height: 100vh;
        height: 100dvh;
        overflow: hidden; /* No scrolling - fixed viewport */
    }
    
    body{
        background-color: var(--color-black);
        overflow: hidden;
        display: block; /* Override grid layout */
    }
}

/* ============================================
   Film Grain Overlay
   Analog texture over the entire viewport.
   Uses SVG feTurbulence for real fractal noise â€”
   no image assets, GPU-composited.
   ============================================ */

html::after{
    content: '';
    position: fixed;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    pointer-events: none;
    z-index: 10000;
    opacity: 0.035;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='256' height='256'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='256' height='256' filter='url(%23n)'/%3E%3C/svg%3E");
    background-repeat: repeat;
    animation: grain 8s steps(10) infinite;
    will-change: transform;
}

@keyframes grain{
    0%, 100%{ transform: translate(0, 0); }
    10%{ transform: translate(-5%, -10%); }
    20%{ transform: translate(-15%, 5%); }
    30%{ transform: translate(7%, -25%); }
    40%{ transform: translate(-5%, 25%); }
    50%{ transform: translate(-15%, 10%); }
    60%{ transform: translate(15%, 0%); }
    70%{ transform: translate(0%, 15%); }
    80%{ transform: translate(3%, 35%); }
    90%{ transform: translate(-10%, 10%); }
}

@media (prefers-reduced-motion: reduce){
    html::after{
        animation: none;
    }
}

/* ============================================
   Sidebar
   ============================================ */

.sidebar{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    padding: 0;
    height: 100vh;
    height: 100dvh;
    position: sticky;
    top: 0;
    background-color: var(--color-black);
    border-right: 1px solid var(--color-black);
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    overflow-x: visible;
    transform: translateX(0); /* Start visible, no animation */
    z-index: 1; /* Above content */
}

.logo-header{
    padding: 1.5rem 2rem;
    margin-bottom: 0;
    background-color: var(--color-black);
    width: 100%;
    box-sizing: border-box;
    overflow: visible;
    position: relative;
    z-index: 1;
}

.logo-header a{
    text-decoration: none;
    color: inherit;
    display: block;
    cursor: pointer;
    width: 100%;
}

.logo-header a:hover{
    opacity: 1 !important;
}

.logo-box{
    background-color: transparent;
    color: var(--color-white) !important;
    padding: 0.75rem 0;
    display: inline-block;
    cursor: pointer;
    transition: transform 0.15s ease;
    border: none;
    width: fit-content;
    min-width: fit-content;
}

.logo-header a:hover .logo-box{
    transform: translateY(1px);
}

.logo-text{
    font-size: 1.5rem;
    letter-spacing: var(--letter-spacing-logo);
    font-weight: normal;
    display: inline-block;
    pointer-events: none;
}

.logo-date{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.75rem;
    color: var(--color-white);
    opacity: 0.8;
}

.logo-weather{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.75rem;
    color: var(--color-white);
    display: flex;
    align-items: center;
    gap: 0;
    margin-top: 0.5rem;
    margin-bottom: 0; /* Ensure no extra margin */
    cursor: pointer;
    overflow: visible; /* Allow content to be visible */
    padding-right: 0.5rem;
    margin-right: -0.5rem;
    height: 2rem; /* Fixed height to reserve space and prevent header expansion */
    min-height: 2rem; /* Ensure minimum height */
    max-height: 2rem; /* Prevent expansion */
    flex-shrink: 0; /* Prevent flexbox from shrinking */
    position: relative; /* For absolute positioning of content */
    box-sizing: border-box; /* Include padding in height calculation */
}

.logo-weather-placeholder{
    display: flex; /* Always visible to reserve space */
    align-items: center;
    gap: 0;
    height: 2rem;
    white-space: nowrap;
    pointer-events: none; /* Don't interfere with interactions */
    font-size: 0.75rem; /* Match actual weather text size */
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    color: transparent; /* Make text invisible but keep space */
    visibility: visible; /* Ensure it's always visible */
}

.logo-weather-placeholder .logo-weather-text{
    display: inline-block;
}

.logo-weather-placeholder .logo-weather-icon{
    display: inline-block;
    flex-shrink: 0;
}

.logo-weather-content{
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0; /* Start hidden, will fade in when loaded */
    transition: opacity 0.4s var(--ease-weighted); /* Smooth fade-in */
    display: flex;
    align-items: center;
    gap: 0;
    height: 2rem;
    white-space: nowrap; /* Prevent text wrapping */
}

.logo-weather-icon{
    width: 2rem;
    height: 2rem;
    min-width: 2rem;
    min-height: 2rem;
    display: inline-block;
    flex-shrink: 0;
    overflow: visible;
    position: relative;
    padding: 0;
    margin: 0;
    margin-right: -0.1rem;
}

.logo-weather-icon svg{
    width: 2rem;
    height: 2rem;
    min-width: 2rem;
    min-height: 2rem;
    fill: var(--color-white);
    stroke: var(--color-white);
    overflow: visible;
    display: block;
}

.logo-weather-text{
    display: inline-block;
}

/* Group icon and temperature together */
.logo-weather-icon + .logo-weather-text{
    margin-left: -0.1rem;
}

.sidebar nav{
    display: flex;
    flex-direction: column;
    flex: 1;
    min-height: 0;
    margin-top: 0;
    padding: 0;
    padding-bottom: 1rem; /* Ensure bottom content is visible */
    background-color: var(--color-sidebar-bg);
}

.nav-section{
    display: flex;
    flex-direction: column;
    margin-bottom: 0; /* Remove default margin for tighter control */
}

/* Add spacing between fixed sections */
.fixed-section + .fixed-section{
    margin-top: 0; /* No extra spacing - borders provide separation */
}

.nav-section-title{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.875rem; /* Slightly smaller for better hierarchy */
    font-weight: 600; /* Increased weight for prominence */
    text-transform: uppercase;
    margin: 0;
    padding: 0.875rem 2rem; /* Increased padding for breathing room */
    color: var(--color-text);
    letter-spacing: 0.08em; /* Increased letter-spacing for clarity */
    cursor: pointer;
    border-top: 1px solid var(--color-black);
    width: 100%;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    line-height: 1.4; /* Better line-height for readability */
    text-decoration: none; /* Remove underline for link titles */
    transition: background-color 0.15s ease, transform 0.1s ease;
    -webkit-tap-highlight-color: transparent; /* Remove mobile tap highlight */
}

/* Make nav section titles that are links feel like buttons */
.nav-section-title-link{
    cursor: pointer;
    user-select: none;
}

.nav-section-title-link:hover{
    background-color: rgba(26, 24, 22, 0.05);
    transform: translateY(1px);
}

.nav-section-title-link:active{
    background-color: rgba(26, 24, 22, 0.1);
    transform: translateY(0);
    box-shadow: inset 0 1px 3px rgba(26, 24, 22, 0.1);
}

.nav-section:last-child .nav-section-title{
    border-bottom: 1px solid var(--color-black);
}

.nav-section-title:hover{
    opacity: 1;
}

.nav-section-link{
    color: inherit;
    text-decoration: none;
    flex: 0 1 auto;
    transition: transform 0.3s ease;
    display: inline-block;
    transform: translateX(0);
    pointer-events: none; /* Don't interfere with parent link click */
}

.nav-section-link:hover{
    text-decoration: none;
}

/* When parent title link is hovered, animate the text */
.nav-section-title-link:hover .nav-section-link{
    transform: translateX(2px);
}

/* Move label right when hovering on arrow icon (legacy support) */
.nav-section-title:has(.nav-section-link-icon:hover) .nav-section-link,
.nav-section-title:has(.nav-section-link-icon:focus) .nav-section-link{
    transform: translateX(4px) scale(1);
}

.nav-section-link-icon{
    color: inherit;
    text-decoration: none;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.6;
    transition: opacity 0.2s var(--ease-weighted), transform 0.3s var(--ease-lift);
    flex-shrink: 0;
    margin-left: 0.5rem;
    pointer-events: none; /* Don't interfere with parent link click */
}

/* When parent title is hovered, animate icon */
.nav-section-title-link:hover .nav-section-link-icon{
    opacity: 0.8;
}

.nav-section-title-link:hover .nav-section-link-icon .nav-section-icon{
    transform: translateX(4px);
}

/* Legacy support for when icon was a link */
.nav-section-link-icon:hover,
.nav-section-link-icon:focus{
    opacity: 0.7;
    outline: none;
}

.nav-section-link-icon:focus-visible{
    outline: 2px solid var(--color-black);
    outline-offset: 2px;
}

.nav-section-title:hover .nav-section-link-icon .nav-section-icon,
.nav-section-link-icon:hover .nav-section-icon,
.nav-section-link-icon:focus .nav-section-icon{
    transform: translateX(4px);
}


.nav-section-icon{
    width: 1rem;
    height: 1rem;
    stroke-width: 1.5;
    transition: transform 0.3s var(--ease-lift);
    display: inline-block;
}

.works-filter-toggle{
    background: none;
    border: none;
    padding: 0;
    margin: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-text);
    -webkit-appearance: none;
    appearance: none;
    transition: transform 0.2s ease;
    flex-shrink: 0;
    margin-left: 0.5rem;
    gap: 0.375rem;
    position: relative;
    z-index: 10; /* Ensure button is above parent link */
    pointer-events: auto; /* Ensure button is clickable */
}

.works-filter-toggle:hover,
.works-filter-toggle:focus{
    outline: none;
    opacity: 0.7;
}

.works-filter-toggle:focus-visible{
    outline: 2px solid var(--color-black);
    outline-offset: 2px;
}

.works-filter-icon{
    width: 16px;
    height: 16px;
    transition: stroke-width 0.2s ease, fill 0.2s ease;
    stroke-width: 1.5;
    fill: none;
}

/* Collapsed state: outlined (thin stroke, no fill) */
.works-section.filter-collapsed .works-filter-icon{
    stroke-width: 1.5;
    fill: none;
}

/* Expanded state: filled (thick stroke, filled) */
.works-section:not(.filter-collapsed) .works-filter-icon{
    stroke-width: 2.5;
    fill: currentColor;
}

.filter-badge{
    background-color: var(--color-black);
    color: var(--color-white);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.625rem;
    font-weight: 500;
    width: 16px;
    height: 16px;
    display: none;
    align-items: center;
    justify-content: center;
    border-radius: 0; /* Square for brutalist look */
    line-height: 1;
    flex-shrink: 0;
}

.filter-badge.show{
    display: flex;
}

/* Sort buttons no longer in nav-section-title */

/* Sort buttons styles moved to be with filter-controls */

.sort-button{
    background: transparent;
    border: none;
    border-right: 1px solid var(--color-black);
    padding: 0.5rem 0.75rem;
    cursor: pointer;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    color: var(--color-text);
    transition: background-color 0.2s var(--ease-weighted), 
                border-left 0.2s var(--ease-weighted), 
                font-weight 0.2s var(--ease-weighted),
                box-shadow 0.2s var(--ease-weighted),
                transform 0.2s var(--ease-press);
    -webkit-appearance: none;
    appearance: none;
    margin: 0;
    touch-action: manipulation;
    position: relative;
    gap: 0.25rem;
    width: 100%;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
}

.sort-button:last-child{
    border-right: none;
}

.filter-toggle{
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 0.75rem 2rem;
    background: transparent;
    border: none;
    border-bottom: 1px solid var(--color-black);
    color: var(--color-text);
    cursor: pointer;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.9rem;
    font-weight: 500;
    text-transform: uppercase;
    -webkit-appearance: none;
    appearance: none;
    transition: background-color 0.2s var(--ease-weighted),
                box-shadow 0.2s var(--ease-weighted),
                transform 0.2s var(--ease-press);
}

.filter-toggle:hover,
.filter-toggle:focus{
    background-color: rgba(0, 0, 0, 0.05);
    outline: none;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.filter-toggle:active{
    transform: translateY(1px);
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
}

.filter-toggle-icon{
    width: 16px;
    height: 16px;
    transition: transform 0.2s var(--ease-weighted);
}

.filter-controls.collapsed .filter-toggle-icon{
    transform: rotate(-90deg);
}

.filter-content{
    max-height: 1000px;
    overflow: hidden;
    transition: max-height 0.3s var(--ease-weighted), opacity 0.2s var(--ease-weighted);
}

.filter-controls.collapsed .filter-content{
    max-height: 0;
    opacity: 0;
}


.sort-button:hover,
.sort-button:focus{
    outline: none;
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.sort-button:active{
    transform: translateY(1px) scale(0.98);
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
}

.sort-button:focus-visible{
    outline: 2px solid var(--color-black);
    outline-offset: 2px;
}

.sort-button.active{
    background-color: transparent;
    color: var(--color-text);
    border-left: 3px solid var(--color-black);
    font-weight: 600;
    padding-left: calc(0.75rem - 3px); /* Adjust padding to account for border */
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1); /* Pressed-in effect */
}

/* Year sort button (NEW -> PAST) has border on the right */
.sort-button[data-sort="year"].active{
    border-left: none;
    border-right: 3px solid var(--color-black);
    padding-left: 0.75rem; /* Reset left padding */
    padding-right: calc(0.75rem - 3px); /* Adjust right padding to account for border */
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1); /* Pressed-in effect */
}

.sort-icon{
    width: 14px;
    height: 14px;
    transition: transform 0.2s var(--ease-weighted);
    flex-shrink: 0;
    margin-right: 0.25rem;
}

.sort-label{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.6875rem;
    line-height: 1;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    white-space: nowrap;
}

/* Sort buttons don't animate - they toggle icons instead */

@keyframes floatHover{
    0%, 100%{
        transform: translateY(0);
    }
    50%{
        transform: translateY(-4px);
    }
}

.works-section{
    flex: 1;
    min-height: 0;
    display: flex;
    flex-direction: column;
    padding: 0;
    margin: 0;
}

.filter-controls{
    border-bottom: 1px solid var(--color-black);
    overflow: hidden;
    transition: max-height 0.3s ease;
}

/* Desktop: filters always visible */
.works-section:not(.filter-collapsed) .filter-controls{
    max-height: 1000px;
}

.works-section.filter-collapsed .filter-controls{
    max-height: 0;
    border-bottom: none;
}

.filter-toggle{
    display: none; /* Hidden - using works-filter-toggle instead */
}

.filter-content{
    display: block;
}

.sort-buttons{
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0;
    width: 100%;
    /* Border removed - filter-controls handles the border */
}

.filter-tags{
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    padding: 0.5rem 2rem 0.75rem 2rem;
}

.filter-tag{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.75rem;
    font-weight: normal;
    text-transform: lowercase;
    padding: 0.25rem 0.5rem;
    background-color: transparent;
    border: 1px solid var(--color-black);
    color: var(--color-text);
    cursor: pointer;
    transition: background-color 0.2s var(--ease-weighted), 
                transform 0.2s var(--ease-press),
                box-shadow 0.2s var(--ease-weighted);
    border-radius: 0; /* Sharp corners for brutalist look */
    position: relative;
}

.filter-tag:hover{
    background-color: rgba(26, 24, 22, 0.04);
    box-shadow: inset 0 1px 2px rgba(26, 24, 22, 0.08);
    transform: translateY(1px);
}

.filter-tag:active{
    transform: translateY(0) scale(0.97);
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
}

.filter-tag.active{
    background-color: rgba(0, 0, 0, 0.1);
    border-color: var(--color-black);
    color: var(--color-text);
    font-weight: 500;
    position: relative;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1); /* Pressed-in effect */
}

/* Subtle pulse animation for active filter tags */
.filter-tag.active::before{
    content: '';
    position: absolute;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.05);
    opacity: 0;
    animation: subtlePulse 2s ease-in-out infinite;
}

@keyframes subtlePulse{
    0%, 100%{
        opacity: 0;
    }
    50%{
        opacity: 1;
    }
}

.filter-tag[data-filter="all"].active{
    background-color: var(--color-black);
    border-color: var(--color-black);
    color: var(--color-white);
}

.filter-tag[data-filter="ux"].active{
    background-color: #4ecdc4;
    border-color: #4ecdc4;
}

.filter-tag[data-filter="strategy"].active{
    background-color: #95e1d3;
    border-color: #95e1d3;
}

.filter-tag[data-filter="research"].active{
    background-color: #a8e6cf;
    border-color: #a8e6cf;
}

.filter-tag[data-filter="brand"].active{
    background-color: #ffd93d;
    border-color: #ffd93d;
    color: var(--color-black);
}

.filter-tag[data-filter="health"].active{
    background-color: #f38181;
    border-color: #f38181;
}

.filter-tag[data-filter="weather"].active{
    background-color: #74b9ff;
    border-color: #74b9ff;
}

.filter-tag[data-filter="play"].active{
    background-color: #fd79a8;
    border-color: #fd79a8;
}

.filter-tag[data-filter="haptics"].active{
    background-color: #a29bfe;
    border-color: #a29bfe;
}

.works-section .nav-section-title{
    margin-top: 0;
    margin-bottom: 0;
    border-top: 1px solid var(--color-black);
    border-bottom: 1px solid var(--color-black);
}

.fixed-section{
    flex-shrink: 0;
    padding: 0;
    margin: 0;
    position: relative;
    z-index: 2; /* Elevated above works-list */
    background-color: var(--color-sidebar-bg);
    box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.04); /* Subtle elevation shadow */
}

.fixed-section .nav-section-title{
    margin-top: 0;
    margin-bottom: 0;
}

.works-list{
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 0;
    margin: 0;
    -ms-overflow-style: none;
    scrollbar-width: none;
    position: relative;
    background-color: rgba(0, 0, 0, 0.02); /* Slightly darker, recessed feel */
    box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.03); /* Inset shadow for depth */
    z-index: 1; /* Behind filter controls */
}

/* Subtle inset shadows for scrollable content */
.works-list::before,
.works-list::after{
    content: '';
    position: sticky;
    left: 0;
    right: 0;
    height: 1rem;
    pointer-events: none;
    z-index: 10;
    transition: opacity 0.3s var(--ease-weighted);
}

.works-list::before{
    top: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.08), transparent);
    opacity: 0;
}

.works-list::after{
    bottom: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.08), transparent);
    opacity: 0;
}

/* Show shadows when scrollable */
.works-list.scrollable-top::before{
    opacity: 1;
}

.works-list.scrollable-bottom::after{
    opacity: 1;
}

.works-list.fallback-mode{
    opacity: 0.6;
    background-color: rgba(0, 0, 0, 0.02);
}

.works-list::-webkit-scrollbar{
    display: none;
}

.sidebar ul{
    list-style: none;
    padding: 0;
    margin: 0;
}

.sidebar li{
    margin: 0;
    font-size: 0.85rem; /* Slightly smaller for hierarchy */
    line-height: 1.5; /* Tighter line-height for project list */
    cursor: pointer;
    border-top: 1px solid rgba(0, 0, 0, 0.15); /* Softer border for recessed feel */
    transition: opacity 0.3s var(--ease-weighted), transform 0.4s var(--ease-lift);
    color: var(--color-text);
}

.sidebar li:first-child{
    border-top: none;
}

/* Project link wrapper for date alignment */
.project-link-wrapper{
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 0.625rem 2rem; /* Slightly tighter padding for recessed feel */
    box-sizing: border-box;
    gap: 1rem; /* Space between project name and date */
    transition: background-color 0.2s var(--ease-weighted),
                transform 0.3s var(--ease-lift),
                box-shadow 0.3s var(--ease-lift);
    position: relative;
}

.sidebar li a{
    color: var(--color-text);
    text-decoration: none;
    display: block;
    border-radius: 0;
    background-color: transparent;
    padding: 0.75rem 2rem;
    width: 100%;
    box-sizing: border-box;
    transition: color 0.2s var(--ease-weighted), font-weight 0.2s var(--ease-weighted);
}

/* When inside wrapper (new structure) - override all padding */
.project-link-wrapper a{
    flex: 0 1 auto; /* Don't grow, allow shrink, auto basis - keeps left-aligned */
    padding: 0 !important; /* Remove all padding - wrapper handles it */
    width: auto !important; /* Don't force full width */
    text-align: left; /* Align project name to left */
    min-width: 0; /* Allow text to truncate if needed */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-weight: 400; /* Normal weight for project links */
    letter-spacing: 0.01em; /* Subtle letter-spacing */
}

.project-date-sidebar{
    font-size: 0.6875rem; /* Slightly smaller for hierarchy */
    color: var(--color-text-subtle);
    opacity: 0.65; /* Slightly more visible */
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    flex-shrink: 0; /* Don't shrink the date */
    margin-left: auto; /* Push to the right */
    text-align: right; /* Align date to right */
    white-space: nowrap; /* Prevent wrapping */
    font-weight: 400;
    letter-spacing: 0.02em; /* Subtle letter-spacing */
}

/* Hover states - tactile press effect */
.sidebar li:hover .project-link-wrapper{
    background-color: rgba(26, 24, 22, 0.04);
    transform: translateY(1px);
    box-shadow: inset 0 1px 3px rgba(26, 24, 22, 0.06);
}

.sidebar li:not(:has(.project-link-wrapper)):hover > a{
    background-color: rgba(0, 0, 0, 0.05);
    transition: background-color 0.15s ease;
}

.sidebar li:hover .project-date-sidebar{
    opacity: 0.8;
    transition: opacity 0.2s var(--ease-weighted);
}

/* Active state - left border indicator instead of full background */
.project-link-wrapper.has-active-link,
.sidebar li:has(a.active) .project-link-wrapper,
.sidebar li .project-link-wrapper:has(a.active){
    background-color: transparent;
    border-left: 3px solid var(--color-black);
    padding-left: calc(2rem - 3px); /* Adjust padding to account for border */
    position: relative;
    box-shadow: inset 2px 0 4px rgba(0, 0, 0, 0.05); /* Subtle pressed-in effect */
}

.project-link-wrapper.has-active-link a,
.sidebar li:has(a.active) .project-link-wrapper a,
.sidebar li .project-link-wrapper:has(a.active) a{
    background-color: transparent;
    color: var(--color-text);
    font-weight: 500; /* Slightly bolder for active */
}

.project-link-wrapper.has-active-link .project-date-sidebar,
.sidebar li:has(a.active) .project-date-sidebar,
.sidebar li .project-link-wrapper:has(a.active) .project-date-sidebar{
    color: var(--color-text);
    opacity: 0.8;
    font-weight: 500;
}

/* Fallback for old structure (direct <a> in <li>) */
.sidebar li:not(:has(.project-link-wrapper)) > a.active{
    background-color: transparent;
    color: var(--color-text);
    font-weight: 500;
    border-left: 3px solid var(--color-black);
    padding-left: calc(2rem - 3px);
}

/* ============================================
   Content Area
   ============================================ */

.content{
    padding: var(--spacing-content-padding);
    max-width: var(--content-max-width);
    height: 100vh;
    height: 100dvh;
    overflow-y: auto;
    overflow-x: hidden;
    box-sizing: border-box;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.content.loaded{
    opacity: 1;
}

/* Desktop: Full width, reduced padding and lighter text */
@media screen and (min-width: 769px) {
    .content{
        max-width: none; /* Remove max-width constraint - fill full width */
        padding: 2rem 2.5rem; /* Reduced from 2rem 3rem */
        width: 100%; /* Ensure it fills the grid column */
    }
    
    .content p{
        color: #4a4840; /* Lighter text color for softer feel */
    }
}

.content h1,
.content h2,
.content h3,
.content h4,
.content h5,
.content h6{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-weight: normal;
}

.content h1{
    font-size: var(--font-size-h1);
    margin-bottom: 0.75rem;
    letter-spacing: var(--letter-spacing-h1);
    font-weight: normal;
}

.content p{
    font-family: "Plus Jakarta Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    font-size: var(--font-size-body);
    margin-bottom: 1rem;
    line-height: 1.7;
    letter-spacing: 0.01em;
}

.content h2{
    font-size: 1.25rem;
    margin-bottom: 1.5rem;
    margin-top: 2.5rem;
    letter-spacing: var(--letter-spacing-logo);
    text-transform: uppercase;
    font-weight: 500;
}

.content h2:first-of-type{
    margin-top: 0;
}

.featured-work h2{
    margin-top: 0;
}

/* Featured Work Header - Desktop */
.featured-work-header{
    margin: 0 0 2rem 0;
    padding: 0;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 1.25rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    line-height: 1.2;
}

.featured-work-header-link{
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--color-text);
    text-decoration: none;
    cursor: pointer;
    transition: opacity 0.3s var(--ease-weighted);
}

.featured-work-header-link:hover,
.featured-work-header-link:focus{
    opacity: 0.8;
    outline: none;
}

.featured-work-header .header-arrow{
    transition: transform 0.3s var(--ease-weighted);
}

.featured-work-header-link:hover .header-arrow,
.featured-work-header-link:focus .header-arrow{
    transform: translateX(4px);
}

/* Hide header on mobile */
@media screen and (max-width: 767px) {
    .featured-work-header{
        display: none;
    }
}

.section-header{
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
}

.section-header span{
    display: inline-block;
    line-height: 1;
}

.section-link{
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: var(--color-text);
    text-decoration: none;
    padding: 0;
    cursor: pointer;
    position: relative;
    flex-shrink: 0;
    transition: opacity 0.2s ease;
    vertical-align: baseline;
    line-height: 1;
}

.section-link:hover,
.section-link:focus{
    opacity: 0.7;
    outline: none;
}

.section-link:focus-visible{
    outline: 2px solid var(--color-black);
    outline-offset: 2px;
}

.section-icon{
    width: 1.25rem;
    height: 1.25rem;
    transition: transform 0.3s ease;
    margin-left: 0.25rem;
    display: inline-block;
    vertical-align: middle;
    transform: translateY(1px);
}

.section-header:hover .section-icon,
.section-link:hover .section-icon,
.section-link:focus .section-icon{
    transform: translateX(4px) translateY(1px);
}


.content h3{
    font-size: 1.15rem;
    margin-bottom: 0.5rem;
    letter-spacing: var(--letter-spacing-logo);
    font-weight: normal;
}

/* ============================================
   Home Page Styles
   ============================================ */

.home-header{
    margin-bottom: 3.5rem;
}

/* Desktop: Tighter spacing */
@media screen and (min-width: 769px) {
    .home-header{
        margin-bottom: 1rem; /* Reduced from 3.5rem */
        margin-top: 1rem; /* Add breathing room at top */
    }
}

/* Desktop: inherit from .content h1 (no overrides needed) */

/* Mobile: custom styling */
@media screen and (max-width: 767px) {
    .home-header h1{
        font-size: 1.75rem; /* Reduced from 2rem (~12.5% smaller) */
        font-weight: 500;
        margin-bottom: 1rem; /* Reduced from 1.25rem (~20% smaller) */
    }
}

.home-tagline{
    font-size: 1rem;
    font-weight: 400;
    margin-top: 0;
    line-height: 1.6;
    opacity: 0.85;
}

/* Desktop: Lighter, more subtle tagline */
@media screen and (min-width: 769px) {
    .home-tagline{
        opacity: 0.75; /* More subtle */
        font-size: 0.9375rem; /* Slightly smaller for hierarchy */
    }
}

@media screen and (max-width: 767px) {
    .home-header{
        margin-top: 0;
    }
}

.pandji-name{
    display: inline-block;
    transition: opacity 0.2s var(--ease-weighted);
    text-decoration: underline;
    text-decoration-thickness: 2px;
    text-underline-offset: 4px;
    opacity: 0.85; /* Slightly muted to indicate it's different */
    cursor: pointer;
}

.pandji-name:hover,
.pandji-name:focus{
    opacity: 1;
    outline: none;
}

.home-header h1:hover .pandji-name{
    opacity: 0.95;
}

.home-tagline{
    font-size: 1rem;
    font-weight: 400;
    margin-top: 0.75rem;
    line-height: 1.6;
    opacity: 0.85;
}

/* Wavy Line Separator - Desktop Only */
.wavy-separator{
    display: none; /* Hidden on mobile */
    width: 100%;
    height: 60px;
    margin: 1rem 0;
    overflow: hidden;
    position: relative;
}

@media screen and (min-width: 769px) {
    .wavy-separator{
        display: block;
    }
    
    .wavy-separator::before{
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 60' preserveAspectRatio='none'%3E%3Cpath d='M0,30 Q300,10 600,30 T1200,30 L1200,60 L0,60 Z' fill='none' stroke='%23d3d3d3' stroke-width='1' opacity='0.4'/%3E%3Cpath d='M0,30 Q300,20 600,30 T1200,30' fill='none' stroke='%23a0a0a0' stroke-width='0.5' opacity='0.3'/%3E%3C/svg%3E");
        background-repeat: repeat-x;
        background-size: 1200px 60px;
        animation: waveMove 8s ease-in-out infinite;
        opacity: 0.6;
    }
}

@keyframes waveMove{
    0%, 100%{
        transform: translateX(0);
    }
    50%{
        transform: translateX(-100px);
    }
}

.featured-work{
    margin-bottom: 3rem;
}


/* Mobile: Black background for featured work section */
@media screen and (max-width: 767px) {
    .featured-work{
        background-color: var(--color-black);
        margin: 0;
        padding: 0;
        width: 100%;
        margin-left: 0;
        margin-right: 0;
        flex: 1; /* Fill remaining space in flex container */
        min-height: 0; /* Critical for flex children to shrink */
        display: flex;
        flex-direction: column;
        position: relative;
        overflow: hidden; /* Prevent any overflow */
    }
    
    /* Featured Work CTA at bottom - frosted linen over the image */
    .featured-work-cta{
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 100;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1.25rem 1.5rem;
        padding-bottom: calc(1.25rem + env(safe-area-inset-bottom, 0px));
        background: rgba(239, 236, 230, 0.85);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        color: var(--color-black);
        text-decoration: none;
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
        font-size: 0.875rem;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        border: none;
        border-top: 1px solid rgba(26, 24, 22, 0.1);
        border-radius: 0;
        cursor: pointer;
        transition: background 0.3s var(--ease-weighted), border-color 0.3s var(--ease-weighted);
        flex-shrink: 0;
        width: 100%;
        box-sizing: border-box;
        /* Calculate exact height for card sizing */
        height: auto;
        min-height: 4.5rem;
        -webkit-appearance: none;
        appearance: none;
    }

    .featured-work-cta:hover,
    .featured-work-cta:focus{
        background: rgba(239, 236, 230, 0.92);
        border-top-color: rgba(26, 24, 22, 0.15);
        outline: none;
    }

    .featured-work-cta .section-icon{
        width: 1rem;
        height: 1rem;
        color: var(--color-black);
        opacity: 0.6;
        transition: transform 0.3s var(--ease-weighted), opacity 0.3s var(--ease-weighted);
    }

    .featured-work-cta:hover .section-icon,
    .featured-work-cta:focus .section-icon{
        transform: translateX(4px);
        opacity: 0.9;
    }
}

/* Featured Projects Carousel */
.featured-projects-carousel{
    position: relative;
    margin-top: 0;
    width: 100%;
    height: 100%;
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* Mobile: Ensure carousel clips properly */
@media screen and (max-width: 767px) {
    .featured-projects-carousel{
        overflow: hidden;
        clip-path: inset(0);
        min-height: 0; /* Critical for flex children to shrink */
        flex: 1 1 0; /* Grow and shrink, base size 0 */
    }
}

/* Cards Container */
.featured-projects-cards{
    display: flex;
    gap: 2rem;
    overflow-x: auto;
    overflow-y: hidden;
    scroll-snap-type: x mandatory;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE/Edge */
}

.featured-projects-cards::-webkit-scrollbar{
    display: none; /* Chrome/Safari */
}

/* Desktop: Mosaic grid layout - 2 top, 3 bottom */
@media screen and (min-width: 769px) {
    .featured-projects-cards{
        display: grid;
        grid-template-columns: repeat(10, 1fr); /* 10 columns for precise control */
        gap: 1.25rem; /* Slightly more breathing room */
        padding: 0.5rem; /* Padding to prevent clipping on hover lift */
        overflow: visible; /* No scrolling */
    }
    
    /* First 2 cards span 5 columns each (top row: 5 + 5 = 10) */
    .featured-project-card:nth-child(1),
    .featured-project-card:nth-child(2){
        grid-column: span 5;
    }
    
    /* Next 3 cards span bottom row - balanced layout: 3, 4, 3 */
    .featured-project-card:nth-child(3){
        grid-column: span 3;
    }
    
    .featured-project-card:nth-child(4){
        grid-column: span 4; /* Center card gets more space */
    }
    
    .featured-project-card:nth-child(5){
        grid-column: span 3; /* Last card balances the row */
    }
    
    /* Hide CTA on desktop */
    .featured-work-cta{
        display: none;
    }
}

/* Mobile: Vertical scroll with snap - Card stack effect */
@media screen and (max-width: 767px) {
    .featured-projects-cards{
        position: relative;
        flex-direction: column;
        gap: 0;
        overflow-y: auto;
        overflow-x: hidden;
        scroll-snap-type: y mandatory;
        scroll-padding: 0;
        scroll-margin: 0;
        flex: 1;
        height: 100%;
        min-height: 0; /* Critical for flex children to shrink */
        background-color: var(--color-black);
        width: 100%;
        margin: 0;
        padding: 0;
        padding-bottom: 0; /* Set dynamically in JS */
        box-sizing: border-box; /* Include padding in height calculation */
        scroll-behavior: auto; /* Immediate snap, no smooth scrolling */
        /* Natural momentum scrolling for tactile feel */
        -webkit-overflow-scrolling: touch;
        overscroll-behavior-y: contain;
    }
}

/* Individual Card */
.featured-project-card{
    flex: 0 0 auto;
    scroll-snap-align: start;
    scroll-snap-stop: always;
    scroll-margin: 0;
}

/* Desktop: Mosaic grid cards */
@media screen and (min-width: 769px) {
    .featured-project-card{
        width: 100%; /* Fill grid cell */
        height: 320px; /* Consistent fixed height for alignment */
        min-height: 320px; /* Ensure minimum height */
        position: relative;
        overflow: visible; /* Changed from hidden to allow title overflow */
        border: 1px solid var(--color-black); /* Brutalist border - all sides */
        background: var(--color-white);
        transition: transform 0.4s var(--ease-lift), box-shadow 0.4s var(--ease-lift);
    }
    
    /* All cards have black borders on all sides - thinner for subtlety (desktop only) */
    .featured-project-card{
        border-top: 1px solid var(--color-black);
        border-right: 1px solid var(--color-black);
        border-bottom: 1px solid var(--color-black);
        border-left: 1px solid var(--color-black);
    }
    
    /* Ensure cards 2-5 have visible top borders on desktop */
    .featured-project-card:nth-child(2),
    .featured-project-card:nth-child(3),
    .featured-project-card:nth-child(4),
    .featured-project-card:nth-child(5){
        border-top: 1px solid var(--color-black);
    }
    
    .featured-project-card:hover{
        transform: translateY(-6px); /* Lift on hover - consistent with site interactions */
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15); /* Subtle shadow for depth */
    }
    
    /* Image brightness/contrast change on hover for depth */
    .featured-project-card:hover .featured-project-image-container img{
        filter: brightness(1.05) contrast(1.05); /* Subtle enhancement */
        transition: filter 0.4s var(--ease-lift);
    }
}

/* Mobile: Vertical full-height cards - Using sticky for natural stacking */
/* Tablet breakpoint (768px-1024px) - Use desktop grid layout */
@media screen and (min-width: 768px) and (max-width: 1024px) {
    /* Use grid layout like desktop, but with adjusted spacing */
    .featured-projects-cards{
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        gap: 1rem; /* Slightly tighter gap than desktop */
        padding: 0.5rem;
        overflow: visible;
    }
    
    /* Same grid layout as desktop: 2 top, 3 bottom */
    .featured-project-card:nth-child(1),
    .featured-project-card:nth-child(2){
        grid-column: span 5;
    }
    
    .featured-project-card:nth-child(3){
        grid-column: span 3;
    }
    
    .featured-project-card:nth-child(4){
        grid-column: span 4;
    }
    
    .featured-project-card:nth-child(5){
        grid-column: span 3;
    }
    
    /* Cards with fixed height, slightly smaller than desktop */
    .featured-project-card{
        width: 100%;
        height: 280px; /* Slightly smaller than desktop 320px for tablet */
        position: relative;
        overflow: hidden;
        border: 1px solid var(--color-black);
        background: var(--color-white);
        transition: transform 0.4s var(--ease-lift), box-shadow 0.4s var(--ease-lift);
        /* Reset mobile-specific styles */
        min-height: auto;
        max-height: none;
        box-shadow: none;
        transform: none;
    }
    
    /* All cards have black borders on all sides */
    .featured-project-card{
        border-top: 1px solid var(--color-black);
        border-right: 1px solid var(--color-black);
        border-bottom: 1px solid var(--color-black);
        border-left: 1px solid var(--color-black);
    }
    
    .featured-project-card:nth-child(2),
    .featured-project-card:nth-child(3),
    .featured-project-card:nth-child(4),
    .featured-project-card:nth-child(5){
        border-top: 1px solid var(--color-black);
    }
    
    /* Hover effects like desktop */
    .featured-project-card:hover{
        transform: translateY(-6px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    }
    
    .featured-project-card:hover .featured-project-image-container img{
        filter: brightness(1.05) contrast(1.05);
        transition: filter 0.4s var(--ease-lift);
    }
    
    /* Hide CTA on tablet (like desktop) */
    .featured-work-cta{
        display: none;
    }
}

@media screen and (max-width: 767px) {
    .featured-project-card{
        width: 100%; /* Full container width - prevents horizontal overflow */
        height: calc(100vh - var(--header-height, 9rem) - var(--cta-height, 4.5rem));
        height: calc(100dvh - var(--header-height, 9rem) - var(--cta-height, 4.5rem));
        min-height: calc(100vh - var(--header-height, 9rem) - var(--cta-height, 4.5rem));
        min-height: calc(100dvh - var(--header-height, 9rem) - var(--cta-height, 4.5rem));
        max-height: calc(100vh - var(--header-height, 9rem) - var(--cta-height, 4.5rem));
        max-height: calc(100dvh - var(--header-height, 9rem) - var(--cta-height, 4.5rem));
        margin: 0;
        padding: 0;
        box-sizing: border-box; /* Include border in height calculation */
        position: sticky; /* Sticky for natural stacking - next card slides on top */
        top: 0; /* Stick to top of container */
        overflow: hidden;
        scroll-snap-align: start;
        scroll-snap-stop: always;
        background-color: var(--color-black);
        /* Weighty, natural transitions - tactile card feel */
        transition: box-shadow 0.4s var(--ease-lift);
        will-change: box-shadow;
        /* Elevation shadow for depth - creates tactile card feel */
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.25);
        transform: none;
        /* Reset borders for mobile - no borders on mobile cards */
        border: none;
        border-top: none;
        border-right: none;
        border-bottom: none;
        border-left: none;
    }
    
    /* White top border for all cards except first - mobile only */
    .featured-project-card:not(:first-child) {
        border-top: 1px solid var(--color-white);
        border-right: none;
        border-bottom: none;
        border-left: none;
    }
    
    /* Override desktop border styles on mobile - ensure no black borders */
    .featured-project-card:nth-child(2),
    .featured-project-card:nth-child(3),
    .featured-project-card:nth-child(4),
    .featured-project-card:nth-child(5){
        border-top: 1px solid var(--color-white) !important;
        border-right: none !important;
        border-bottom: none !important;
        border-left: none !important;
    }
    
    /* Ensure first card has no borders on mobile */
    .featured-project-card:first-child {
        border: none !important;
    }
    
    /* Active/visible card gets stronger shadow and full scale */
    .featured-project-card.active {
        box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.4),
                    0 -4px 16px rgba(0, 0, 0, 0.3);
    }
    
    /* Next card sliding up - enhanced shadow */
    .featured-project-card.next {
        box-shadow: 0 -6px 24px rgba(0, 0, 0, 0.35);
    }
    
    /* Previous cards - subtle shadow */
    .featured-project-card.prev {
        box-shadow: 0 -2px 12px rgba(0, 0, 0, 0.2);
    }
    
    .featured-project-card-link{
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: block;
        overflow: hidden;
        margin: 0;
        padding: 0;
    }
    
    /* Ensure image fills entire card */
    .featured-project-image-container{
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        z-index: 0;
    }
    
    .featured-project-image-container img{
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        min-width: 100%;
        min-height: 100%;
        object-fit: cover;
        object-position: center;
        display: block;
        margin: 0;
        padding: 0;
    }
}

/* Desktop: card link */
@media screen and (min-width: 769px) {
    .featured-project-card-link{
        display: block;
        width: 100%;
        height: 100%;
        text-decoration: none;
        color: inherit;
        position: relative;
        overflow: visible; /* Changed from hidden to allow title overflow */
        margin: 0;
        padding: 0;
    }
}

/* Image Container - Desktop */
@media screen and (min-width: 769px) {
    .featured-project-image-container{
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        max-height: 100%; /* Match card height - constrained by card's 320px */
        overflow: hidden;
    }
    
    .featured-project-image-container img{
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        min-width: 100%;
        min-height: 100%;
        max-height: 100%; /* Match card height - constrained by card's 320px */
        object-fit: cover;
        object-position: center;
        display: block;
        transition: transform 0.4s var(--ease-weighted), filter 0.4s var(--ease-lift);
        filter: brightness(1) contrast(1); /* Base state */
    }
}

/* Gradient Overlay - increased coverage for 3 lines of text */
.featured-project-gradient{
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 60%;
    background: linear-gradient(to top, rgba(26, 24, 22, 0.95) 0%, rgba(26, 24, 22, 0.85) 30%, rgba(26, 24, 22, 0.7) 50%, rgba(26, 24, 22, 0.4) 70%, transparent 100%);
    pointer-events: none;
    z-index: 1;
}

/* Desktop: Stronger gradient overlay for better text legibility */
@media screen and (min-width: 769px) {
    .featured-project-gradient{
        background: linear-gradient(to top, rgba(26, 24, 22, 0.97) 0%, rgba(26, 24, 22, 0.93) 25%, rgba(26, 24, 22, 0.85) 45%, rgba(26, 24, 22, 0.65) 65%, rgba(26, 24, 22, 0.35) 80%, transparent 100%);
        height: 75%; /* Extend gradient coverage for better text legibility */
    }
}

/* Blurb Container (overlay on image) */
.featured-project-blurb{
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 2rem 1.5rem 1.5rem 1.5rem;
    z-index: 2;
    color: var(--color-white);
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    transition: transform 0.4s var(--ease-lift), box-shadow 0.4s var(--ease-lift);
}

/* Desktop: Tighter spacing to match mobile */
@media screen and (min-width: 769px) {
    .featured-project-blurb{
        padding: 1.75rem 1.5rem 1.5rem 1.5rem; /* Match mobile padding */
        gap: 0.5rem; /* Tighter gap, closer to mobile's 0.375rem */
    }
    
    /* Add text shadow for better legibility on light images */
    .featured-project-title,
    .featured-project-description{
        text-shadow: 0 1px 4px rgba(0, 0, 0, 0.9), 0 0 12px rgba(0, 0, 0, 0.6), 0 2px 8px rgba(0, 0, 0, 0.4);
    }
}

/* Desktop: Blurb lifts on hover - more subtle */
@media screen and (min-width: 769px) {
    .featured-project-card-link:hover .featured-project-blurb{
        transform: translateY(-6px); /* Reduced from -8px for subtlety */
    }
    
    .featured-project-card-link:hover .featured-project-image-container img{
        transform: scale(1.03); /* Reduced from 1.05 for subtlety */
    }
}

/* Mobile: Tighter spacing for better hierarchy */
@media screen and (max-width: 767px) {
    .featured-project-blurb{
        padding: 1.75rem 1.5rem 1.5rem 1.5rem; /* Consistent padding - matches sides */
        gap: 0.375rem; /* Tighter gap between elements */
        display: flex;
        flex-direction: column; /* Stack title and description vertically */
        align-items: flex-start; /* Align to left */
        justify-content: flex-end; /* Align to bottom */
    }
}

/* Title */
.featured-project-title{
    margin: 0;
    font-size: 1.5rem;
    font-weight: 600;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    line-height: 1.2;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

.featured-project-title-text{
    display: inline-block;
    overflow: visible; /* Prevent text clipping */
    white-space: nowrap; /* Prevent wrapping */
}

/* Desktop: Ensure titles don't get cut off */
@media screen and (min-width: 769px) {
    .featured-project-blurb{
        overflow: visible; /* Allow content to be visible even if it extends */
        min-height: auto; /* Don't constrain height */
    }
    
    .featured-project-title{
        max-width: 100%; /* Allow full width */
        overflow: visible;
        flex-wrap: wrap; /* Allow title to wrap to multiple lines */
        width: 100%; /* Take full width of container */
    }
    
    .featured-project-title-text{
        overflow: visible;
        text-overflow: clip; /* Don't truncate with ellipsis */
        white-space: normal; /* Allow wrapping if needed */
        word-break: break-word; /* Break long words if necessary */
        max-width: 100%; /* Ensure it doesn't exceed container */
    }
}

.featured-project-title .title-arrow{
    width: 1rem;
    height: 1rem;
    transition: transform 0.3s var(--ease-weighted);
    flex-shrink: 0;
}

.featured-project-card-link:hover .featured-project-title .title-arrow{
    transform: translateX(4px);
}

@media screen and (max-width: 767px) {
    .featured-project-title{
        font-size: 1.25rem;
        margin-bottom: 0;
    }
    
    .featured-project-title .title-arrow{
        width: 0.875rem;
        height: 0.875rem;
    }
}

/* Description */
.featured-project-description{
    margin: 0;
    font-size: 0.875rem;
    line-height: 1.6;
    opacity: 0.9;
    font-family: "Plus Jakarta Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    color: var(--color-white); /* Ensure white text */
}

/* Desktop: All blurbs white */
@media screen and (min-width: 769px) {
    .featured-project-description{
        color: var(--color-white) !important;
    }
    
    .featured-project-title{
        color: var(--color-white) !important;
    }
}

@media screen and (max-width: 767px) {
    .featured-project-description{
        font-size: 0.8125rem;
        line-height: 1.5; /* Tighter line height for 3 lines */
        max-width: calc(100% - 3rem); /* Limit line length, leave space for vertical dots */
        /* Allow up to 3 lines */
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
        margin-bottom: 0; /* No extra margin, aligns with dots */
        margin-top: 0.375rem; /* Tighter spacing from title */
        color: var(--color-white); /* Ensure white text */
    }
    
    /* First card blurb white on mobile */
    .featured-project-card:first-child .featured-project-description,
    .featured-project-card:first-child .featured-project-title{
        color: var(--color-white) !important;
    }
}

/* CTA Button */
.featured-project-cta{
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-top: 0.5rem;
    opacity: 0.8;
    transition: opacity 0.3s var(--ease-weighted), transform 0.3s var(--ease-weighted);
}

/* Mobile: Tighter CTA spacing */
@media screen and (max-width: 767px) {
    .featured-project-cta{
        margin-top: 0.5rem; /* Spacing from description */
        margin-bottom: 1rem; /* Healthy spacing before dots */
    }
}

/* Desktop: CTA revealed on hover */
@media screen and (min-width: 769px) {
    .featured-project-cta{
        opacity: 0;
        transform: translateY(8px);
    }
    
    .featured-project-card-link:hover .featured-project-cta{
        opacity: 1;
        transform: translateY(0);
    }
}

/* Mobile: CTA always visible */
@media screen and (max-width: 767px) {
    .featured-project-cta{
        opacity: 1;
    }
}

.featured-project-cta .cta-icon{
    width: 1rem;
    height: 1rem;
    transition: transform 0.3s var(--ease-weighted);
}

.featured-project-card-link:hover .featured-project-cta .cta-icon{
    transform: translateX(4px);
}

/* Progress Dots (Mobile only) */
.carousel-dots{
    position: fixed;
    bottom: calc(var(--cta-height, 4.5rem) + 1.5rem); /* Align with content bottom */
    right: 1.5rem; /* Right side */
    z-index: 150; /* Above cards but below sidebar */
    display: flex;
    flex-direction: column; /* Vertical stack at bottom */
    gap: 0.75rem;
    pointer-events: none;
    transform: none;
    /* Add bottom spacing for better alignment */
    padding-bottom: 0.25rem;
}

@media screen and (min-width: 769px) {
    .carousel-dots{
        display: none;
    }
}

.carousel-dot{
    width: 8px;
    height: 8px;
    border-radius: 0; /* Square shape */
    border: 1px solid rgba(255, 255, 255, 0.5); /* More opaque for legibility */
    background-color: transparent;
    padding: 0;
    cursor: pointer;
    pointer-events: all;
    transition: background-color 0.4s var(--ease-lift), 
                border-color 0.4s var(--ease-lift), 
                transform 0.4s var(--ease-lift),
                width 0.4s var(--ease-lift),
                height 0.4s var(--ease-lift),
                box-shadow 0.4s var(--ease-lift);
    /* Tactile feel - subtle scale on interaction */
    transform: scale(1);
    flex-shrink: 0; /* Prevent shrinking in flex layout */
    /* Subtle, diffused shadow for legibility on bright backgrounds */
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.25),
                0 0 16px rgba(0, 0, 0, 0.15);
}

.carousel-dot:hover{
    transform: scale(1.15);
    border-color: rgba(255, 255, 255, 0.8);
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(0, 0, 0, 0.18);
}

.carousel-dot.active{
    background-color: rgba(255, 255, 255, 0.95);
    border-color: var(--color-white);
    border-width: 1.5px; /* Slightly thicker border */
    transform: scale(1.3);
    /* Gentle pulse for active dot - grounding feedback */
    animation: dotPulse 2s ease-in-out infinite;
    border-radius: 0; /* Ensure square shape */
    /* Subtle, diffused shadow for active state */
    box-shadow: 0 0 12px rgba(0, 0, 0, 0.35),
                0 0 24px rgba(0, 0, 0, 0.2),
                0 0 2px rgba(255, 255, 255, 0.2); /* Very subtle white glow */
}

/* Subtle pulse animation for active dot - tactile feedback */
@keyframes dotPulse {
    0%, 100% {
        opacity: 0.9;
    }
    50% {
        opacity: 1;
    }
}

.carousel-dot:focus{
    outline: 2px solid rgba(255, 255, 255, 0.5);
    outline-offset: 2px;
}

/* Works CTA - subtle grounding element */
.works-cta{
    margin-top: 4rem;
    margin-bottom: 2rem;
    padding-top: 2rem;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    position: relative;
}

/* Subtle breathing animation for grounding */
@keyframes subtleBreathe {
    0%, 100% {
        opacity: 0.4;
    }
    50% {
        opacity: 0.6;
    }
}

.works-cta::after{
    content: '';
    position: absolute;
    top: 2rem;
    left: 50%;
    transform: translateX(-50%);
    width: 1px;
    height: 2rem;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.1), transparent);
    animation: subtleBreathe 4s ease-in-out infinite;
    pointer-events: none;
}

.works-cta-link{
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    text-decoration: none;
    color: var(--color-text);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.875rem;
    text-transform: lowercase;
    padding: 0.75rem 1.25rem;
    border: 1px solid rgba(0, 0, 0, 0.1);
    background-color: transparent;
    transition: all 0.4s var(--ease-weighted);
    position: relative;
    overflow: hidden;
}

.works-cta-link::before{
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.03);
    opacity: 0;
    transition: opacity 0.4s var(--ease-weighted);
}

.works-cta-link:hover{
    border-color: rgba(26, 24, 22, 0.2);
    transform: translateY(1px);
    box-shadow: inset 0 1px 3px rgba(26, 24, 22, 0.06);
}

.works-cta-link:hover::before{
    opacity: 1;
}

.works-cta-text{
    position: relative;
    z-index: 1;
}

.works-cta-icon{
    width: 1rem;
    height: 1rem;
    position: relative;
    z-index: 1;
    transition: transform 0.4s var(--ease-weighted);
}

.works-cta-link:hover .works-cta-icon{
    transform: translateX(4px);
}


.about-section{
    margin-bottom: 2rem;
    border-top: 1px solid var(--color-black);
    padding-top: 1.5rem;
}

.about-section p{
    margin-bottom: 1rem;
    line-height: 1.7;
}

/* About Pages (About Me, About Site) */
.about-header{
    margin-bottom: 2.5rem;
    max-width: 75ch;
    margin-left: auto;
    margin-right: auto;
}

.about-title{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: var(--font-size-h1);
    font-weight: normal;
    margin-bottom: 1rem;
    letter-spacing: var(--letter-spacing-h1);
}

.about-content{
    max-width: 75ch;
    margin-left: auto;
    margin-right: auto;
}

.about-content p{
    font-family: "Plus Jakarta Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    font-size: 1rem;
    line-height: 1.7;
    margin-bottom: 1.5rem;
    color: var(--color-text);
}

.about-content h2{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 1.5rem;
    font-weight: normal;
    margin-top: 3rem;
    margin-bottom: 1.5rem;
    letter-spacing: 0.05em;
    text-transform: uppercase;
}

/* Writings Coming Soon State */
.writings-disabled{
    opacity: 0.6;
    cursor: not-allowed;
}

.coming-soon-text{
    font-size: 0.75rem;
    color: var(--color-text-subtle);
    opacity: 0.8;
    font-style: italic;
    font-weight: 400;
}

.nav-section-title:has(.writings-disabled){
    cursor: not-allowed;
}

.nav-section-title:has(.writings-disabled):hover .writings-disabled{
    opacity: 0.8;
}

/* GET IN TOUCH Section - subtle tertiary hierarchy */
.get-in-touch{
    margin-top: 2.5rem;
    padding: 0;
    display: none; /* Hide GET IN TOUCH section */
}

.get-in-touch-link{
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.25rem 0;
    background: transparent;
    color: var(--color-text-subtle);
    text-decoration: none;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.75rem;
    font-weight: 400;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    border-top: 1px solid rgba(0, 0, 0, 0.08);
    transition: color 0.3s var(--ease-weighted), border-color 0.3s var(--ease-weighted);
    opacity: 0.7;
}

.get-in-touch-link:hover,
.get-in-touch-link:focus{
    color: var(--color-text);
    border-top-color: rgba(0, 0, 0, 0.15);
    opacity: 1;
    outline: none;
}

.get-in-touch-link .section-icon{
    width: 0.875rem;
    height: 0.875rem;
    opacity: 0.6;
    transition: transform 0.3s var(--ease-weighted), opacity 0.3s var(--ease-weighted);
}

.get-in-touch-link:hover .section-icon,
.get-in-touch-link:focus .section-icon{
    transform: translateX(3px);
    opacity: 0.9;
}

.content-footer{
    margin-top: 3rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--color-black);
    text-align: right;
}

.content-footer p{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.75rem;
    color: var(--color-text-subtle);
    line-height: 1.6;
    margin-bottom: 0;
    text-transform: lowercase;
}

/* ============================================
   Project Page Styles
   ============================================ */

/* Project pages - ensure light background */
body:has(.project-header),
body .content:has(.project-header){
    background-color: var(--color-white) !important;
}

.project-header{
    margin-bottom: 2.5rem;
    max-width: 75ch; /* Match content width */
    margin-left: auto;
    margin-right: auto;
}

.project-title,
.project-header h1,
.project-header h2,
.project-header h3,
.project-header h4,
.project-header h5,
.project-header h6{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-weight: normal;
}

.project-title{
    font-size: var(--font-size-h1);
    margin-bottom: 1rem;
    letter-spacing: var(--letter-spacing-h1);
}

.project-meta{
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-bottom: 2rem;
}

.project-tags{
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.tag{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
    background-color: transparent;
    border: 1px solid var(--color-black);
    display: inline-block;
    cursor: pointer;
    text-transform: lowercase;
    color: var(--color-text);
    text-decoration: none;
    border-radius: 0;
    -webkit-appearance: none;
    appearance: none;
    margin: 0;
}

.tag:hover{
    background-color: rgba(0, 0, 0, 0.05);
}

.tag[data-tag="ux"]{
    border-color: #4ecdc4;
}

.tag[data-tag="strategy"]{
    border-color: #95e1d3;
}

.tag[data-tag="research"]{
    border-color: #a8e6cf;
}

.tag[data-tag="brand"]{
    border-color: #ffd93d;
}

.tag[data-tag="health"]{
    border-color: #f38181;
}

.tag[data-tag="weather"]{
    border-color: #74b9ff;
}

.tag[data-tag="play"]{
    border-color: #fd79a8;
}

.tag[data-tag="haptics"]{
    border-color: #a29bfe;
}

.tag.active{
    color: var(--color-white);
}

.tag[data-tag="ux"].active{
    background-color: #4ecdc4;
    border-color: #4ecdc4;
}

.tag[data-tag="strategy"].active{
    background-color: #95e1d3;
    border-color: #95e1d3;
}

.tag[data-tag="research"].active{
    background-color: #a8e6cf;
    border-color: #a8e6cf;
}

.tag[data-tag="brand"].active{
    background-color: #ffd93d;
    border-color: #ffd93d;
    color: var(--color-black);
}

.tag[data-tag="health"].active{
    background-color: #f38181;
    border-color: #f38181;
}

.tag[data-tag="weather"].active{
    background-color: #74b9ff;
    border-color: #74b9ff;
}

.tag[data-tag="play"].active{
    background-color: #fd79a8;
    border-color: #fd79a8;
}

.tag[data-tag="haptics"].active{
    background-color: #a29bfe;
    border-color: #a29bfe;
}

.project-date{
    
    font-size: 0.9rem;
    color: var(--color-text-subtle);
}

.project-description{
    margin-bottom: 2.5rem;
    max-width: 75ch; /* Match content width */
    margin-left: auto;
    margin-right: auto;
}

.project-description p{
    font-size: 1.1rem;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    line-height: 1.8;
    color: var(--color-text);
    letter-spacing: 0.01em;
}

.project-content{
    margin-bottom: 2.5rem;
    padding-top: 2.5rem;
    border-top: 1px solid rgba(0, 0, 0, 0.15);
    max-width: 75ch; /* Optimal reading width */
    margin-left: auto;
    margin-right: auto;
}

/* Hero image at top (after header, before description) */
.project-hero-image{
    width: 100%;
    max-width: 75ch; /* Match content width */
    max-width: min(75ch, 1200px); /* Cap at 1200px for super wide screens */
    margin: 2.5rem auto;
    margin-top: 0;
    display: block;
}

.project-hero-image img{
    width: 100%;
    max-width: 100%;
    height: auto;
    display: block;
    object-fit: cover;
    border: 1px solid var(--color-black) !important; /* Border for hero image - force with !important */
    box-sizing: border-box; /* Include border in width calculation */
}

/* Inline images within project content */
.project-content img{
    width: 100%;
    max-width: 75ch; /* Constrain to content width */
    max-width: min(75ch, 1200px); /* Cap at 1200px for super wide screens */
    height: auto;
    margin: 2rem auto; /* Center with auto margins */
    display: block;
    border: 1px solid var(--color-black) !important; /* Border for all images - force with !important */
    box-sizing: border-box; /* Include border in width calculation */
}

/* Project content headings */
.project-content h2{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 1.5rem;
    font-weight: normal;
    margin-top: 3rem;
    margin-bottom: 1.5rem;
    letter-spacing: 0.05em;
    text-transform: uppercase;
}

.project-content h3{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: 1.25rem;
    font-weight: normal;
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    letter-spacing: 0.03em;
}

.project-content p{
    font-family: "Plus Jakarta Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    font-size: 1rem;
    line-height: 1.7;
    margin-bottom: 1.5rem;
    color: var(--color-text);
}

.project-content ul,
.project-content ol{
    font-family: "Plus Jakarta Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    font-size: 1rem;
    line-height: 1.7;
    margin-bottom: 1.5rem;
    padding-left: 1.5rem;
    color: var(--color-text);
}

.project-content li{
    margin-bottom: 0.5rem;
}

.project-links{
    display: flex;
    gap: 1.5rem;
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid var(--color-black);
    max-width: 75ch; /* Match content width */
    margin-left: auto;
    margin-right: auto;
}

.project-link{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    font-size: var(--font-size-nav);
    color: var(--color-text);
    text-decoration: none;
    transition: opacity 0.2s ease;
}

.project-link:hover{
    opacity: 0.6;
    text-decoration: underline;
}

/* ============================================
   Mobile Responsive Styles
   ============================================ */

/* Hide any old mobile-menu-toggle elements */
.mobile-menu-toggle{
    display: none !important;
    visibility: hidden !important;
}

/* Sidebar toggle - sticky top right, floating icon */
.sidebar-toggle{
    display: none;
    position: fixed;
    top: 1rem;
    right: calc(7.5vw - 1.5rem); /* Always in proper position (for 85vw sidebar) */
    z-index: 201;
    width: 3rem;
    height: 3rem;
    padding: 0;
    background-color: rgba(26, 24, 22, 0.6);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: none;
    border-radius: 1.5rem 50% 50% 1.5rem; /* Always pill shape */
    cursor: pointer;
    -webkit-appearance: none;
    appearance: none;
    margin: 0;
    pointer-events: auto; /* Ensure button is clickable */
    touch-action: manipulation; /* Optimize for touch */
    transition: background-color 0.2s var(--ease-weighted),
                transform 0.15s cubic-bezier(0.4, 0.0, 0.2, 1),
                box-shadow 0.2s var(--ease-weighted);
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 8px rgba(26, 24, 22, 0.15);
}

/* Visual connection - subtle line extending toward sidebar */
.sidebar-toggle::before{
    content: '';
    position: absolute;
    right: 100%;
    top: 50%;
    transform: translateY(-50%);
    width: 0;
    height: 1px;
    background: linear-gradient(to right, rgba(255, 255, 255, 0.3), transparent);
    transition: width 0.5s var(--ease-weighted);
    pointer-events: none;
}

body.sidebar-open .sidebar-toggle::before{
    width: calc(100vw - 85vw - 3rem - 2rem); /* Distance from sidebar edge to toggle */
}

@media screen and (min-width: 23.5rem) {
    body.sidebar-open .sidebar-toggle::before{
        width: calc(100vw - 20rem - 3rem - 2rem); /* For max-width sidebar */
    }
}

.sidebar-toggle:hover{
    background-color: rgba(26, 24, 22, 0.75);
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(26, 24, 22, 0.25);
}

.sidebar-toggle:active{
    background-color: rgba(26, 24, 22, 0.9);
    transform: scale(0.95);
    box-shadow: 0 1px 4px rgba(26, 24, 22, 0.2);
}

.sidebar-toggle:focus-visible{
    outline: 2px solid rgba(255, 255, 255, 0.8);
    outline-offset: 2px;
}

.sidebar-toggle-icon{
    width: 1.5rem;
    height: 1.5rem;
    color: var(--color-white);
    stroke-width: 2;
    flex-shrink: 0;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
    transition: opacity 0.2s var(--ease-weighted), color 0.2s var(--ease-weighted);
}

.sidebar-toggle-icon-close{
    display: none;
}

body.sidebar-open .sidebar-toggle-icon-open{
    display: none;
}

body.sidebar-open .sidebar-toggle-icon-close{
    display: block;
}

.mobile-menu-icon-right{
    margin-left: 0.25rem;
}

.mobile-menu-icon-left{
    margin-right: 0.25rem;
    order: -1; /* Ensure left icon appears before text when visible */
}

.sidebar-backdrop{
    display: none;
}

/* Tablet breakpoint (768px-1024px) - Use desktop layout with sidebar visible */
@media screen and (min-width: 768px) and (max-width: 1024px) {
    /* Keep desktop grid layout - sidebar + content side-by-side */
    body{
        display: grid;
        grid-template-columns: var(--sidebar-width) 1fr;
        height: 100vh;
        height: 100dvh;
        overflow: hidden;
    }

    /* Sidebar visible and sticky like desktop */
    .sidebar{
        position: sticky;
        top: 0;
        transform: translateX(0); /* Always visible */
        border-right: 1px solid var(--color-black);
        /* Reset mobile-specific styles */
        width: auto;
        max-width: none;
        box-shadow: none;
        z-index: 1;
    }
    
    /* Hide toggle button on tablet (sidebar always visible) */
    .sidebar-toggle{
        display: none !important;
    }
    
    /* Content area like desktop */
    .content{
        max-width: none;
        padding: 2rem 2rem; /* Slightly tighter than desktop */
        width: 100%;
    }
}

@media screen and (max-width: 767px) {
    
    
    body{
        grid-template-columns: 1fr;
        grid-template-rows: none;
        display: block;
        height: 100vh;
        height: 100dvh;
        overflow: hidden; /* No scrolling - fixed viewport */
    }

    /* Only prevent scrolling when sidebar is open */
    body.sidebar-open{
        overflow: hidden;
    }

    .sidebar{
        position: fixed;
        top: 0;
        left: 0;
        width: 85vw; /* Use viewport width, leave space for toggle button */
        max-width: 20rem; /* Max width for comfortable reading */
        height: 100vh;
        height: 100dvh;
        overflow-y: auto; /* Ensure sidebar can scroll */
        overflow-x: visible; /* Allow dates to be visible */
        z-index: 200;
        transform: translateX(-100%); /* Start off-screen */
        transition: none; /* No animations */
        border-right: 1px solid var(--color-white);
        border-left: none;
        box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
        background-color: var(--color-black);
    }
    
    /* Toggle button always in proper position - no repositioning needed */
    .sidebar-toggle{
        right: calc(7.5vw - 1.5rem); /* Proper position for 85vw sidebar */
        border-radius: 1.5rem 50% 50% 1.5rem; /* Always pill shape */
    }
    
    /* For max-width sidebar (20rem), calculate for equal spacing */
    @media screen and (min-width: 23.5rem) {
        .sidebar-toggle{
            right: calc((100vw - 23rem) / 2); /* Proper position for max-width sidebar */
        }
    }
    
    /* Ensure sidebar nav has bottom padding on mobile */
    .sidebar nav{
        padding-bottom: 2rem; /* Extra space at bottom for scrolling */
        background-color: var(--color-sidebar-bg);
    }
    
    /* On mobile, no animation on page load */
    .sidebar.loaded{
        transform: translateX(-100%); /* Stay off-screen on mobile */
        transition: none; /* No transition on load */
    }
    
    .sidebar.open{
        transform: translateX(0); /* Instantly appear when opened */
        transition: none; /* No animation */
    }
    
    /* Instantly hide when closing */
    .sidebar:not(.open):not(.loaded){
        transform: translateX(-100%); /* Instantly hide */
        transition: none; /* No animation */
    }
    
    /* Override transition for initial load state */
    .sidebar.loaded:not(.open){
        transition: none; /* No transition on initial load */
    }
    
    /* Move menu button with sidebar */
    /* Sidebar toggle visible on mobile */
    .sidebar-toggle{
        display: flex !important;
    }
    
    /* On very small screens, adjust toggle position */
    @media screen and (max-width: 375px) {
        .sidebar{
            width: 90vw; /* Wider on small screens */
            max-width: 18rem;
        }
        
        .sidebar-toggle{
            top: 0.75rem;
            right: calc(5vw - 1.25rem); /* Proper position for 90vw sidebar on small screens */
            width: 2.5rem;
            height: 2.5rem;
        }
        
        .sidebar-toggle-icon{
            width: 1.25rem;
            height: 1.25rem;
        }
    }
    
    /* Mobile sidebar list items */
    .sidebar li a{
        padding: 0.75rem 1.5rem; /* Indent project items on mobile */
    }
    
    .project-link-wrapper{
        padding: 0.75rem 1.5rem; /* Indent project items on mobile */
        display: flex; /* Ensure flexbox works on mobile */
        align-items: center;
        justify-content: space-between;
        gap: 0.75rem; /* Space between name and date on mobile */
    }
    
    .project-link-wrapper a{
        padding: 0 !important; /* Remove all padding on mobile */
        width: auto !important; /* Don't force full width */
        flex: 0 1 auto; /* Don't grow, allow shrink */
        text-align: left; /* Align project name to left */
        min-width: 0; /* Allow text to truncate if needed */
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    
    .project-date-sidebar{
        font-size: 0.7rem; /* Slightly smaller on mobile */
        flex-shrink: 0; /* Don't shrink the date */
        margin-left: auto; /* Push to the right */
        text-align: right; /* Align date to right */
        white-space: nowrap; /* Prevent wrapping */
    }
    
    /* Active state on mobile - ensure visibility with class-based selector */
    .project-link-wrapper.has-active-link{
        background-color: var(--color-black) !important;
    }
    
    .project-link-wrapper.has-active-link a{
        color: var(--color-white) !important;
        background-color: transparent !important;
    }
    
    .project-link-wrapper.has-active-link .project-date-sidebar{
        color: var(--color-white) !important;
        opacity: 0.7;
    }
    
    /* Also support :has() selector for compatibility */
    .sidebar li:has(a.active) .project-link-wrapper,
    .sidebar li .project-link-wrapper:has(a.active){
        background-color: var(--color-black) !important;
        padding-left: calc(1.5rem - 3px); /* Account for 3px border with mobile indentation */
    }
    
    .sidebar li:has(a.active) .project-link-wrapper a,
    .sidebar li .project-link-wrapper:has(a.active) a{
        color: var(--color-white) !important;
        background-color: transparent !important;
    }
    
    .sidebar li:has(a.active) .project-date-sidebar,
    .sidebar li .project-link-wrapper:has(a.active) .project-date-sidebar{
        color: var(--color-white) !important;
        opacity: 0.7;
    }
    
    /* Fallback for old structure on mobile */
    .sidebar li:not(:has(.project-link-wrapper)) > a.active{
        background-color: var(--color-black) !important;
        color: var(--color-white) !important;
    }
    
    /* Better tag layout for mobile - compact 3-column grid with touchable targets */
    .filter-tags{
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 0.375rem;
        padding: 0.5rem 1rem 0.75rem 1rem;
    }
    
    /* Compact but still touchable (36px is acceptable for smaller targets) */
    .filter-tag{
        min-height: 36px;
        padding: 0.5rem 0.5rem;
        font-size: 0.8rem;
        width: 100%;
        text-align: center;
    }
    
    /* Project page tags - keep horizontal but larger */
    .project-tags{
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    
    .project-tags .tag{
        min-height: 44px;
        padding: 0.625rem 1rem;
        font-size: 0.9rem;
    }
    
    
    /* Backdrop overlay - subtle and calming */
    .sidebar-backdrop{
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        height: 100dvh;
        background-color: rgba(26, 24, 22, 0.3);
        backdrop-filter: blur(2px);
        -webkit-backdrop-filter: blur(2px);
        z-index: 150;
        opacity: 0;
        pointer-events: none;
        transition: none; /* Instant to match sidebar */
    }
    
    .sidebar-backdrop.active{
        display: block;
        opacity: 1;
        pointer-events: all;
    }
    
    .content{
        width: 100%;
        height: 100vh;
        height: 100dvh;
        padding: 0 !important;
        margin: 0 !important;
        overflow: hidden; /* No scrolling - fixed viewport */
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
    }
    
    /* Project pages on mobile - light background and scrollable */
    .content:has(.project-header),
    .content:has(.about-header){
        background-color: var(--color-white) !important;
        overflow-y: auto;
        overflow-x: hidden;
        height: 100vh;
        height: 100dvh;
    }
    
    /* Project page mobile styles */
    .project-header,
    .project-description,
    .project-content,
    .project-links{
        max-width: 100%;
        padding-left: 1.5rem;
        padding-right: 1.5rem;
        margin-left: 0;
        margin-right: 0;
    }
    
    /* About pages mobile styles */
    .about-header,
    .about-content{
        max-width: 100%;
        padding-left: 1.5rem;
        padding-right: 1.5rem;
        margin-left: 0;
        margin-right: 0;
    }
    
    .about-content h2{
        margin-top: 2rem;
        font-size: 1.25rem;
    }
    
    .project-content{
        padding-top: 2rem;
    }
    
    .project-content img{
        margin: 1.5rem 0;
        border: 1px solid var(--color-black) !important; /* Ensure border on mobile too */
        max-width: 100%; /* Full width on mobile */
    }
    
    .project-hero-image img{
        border: 1px solid var(--color-black) !important; /* Ensure border on mobile too */
        max-width: 100%; /* Full width on mobile */
    }
    
    .project-tags .tag{
        min-height: 44px; /* Touch-friendly on mobile */
        padding: 0.5rem 0.75rem;
    }
    
    /* Ensure all content children respect container width */
    .content > *{
        max-width: 100%;
        box-sizing: border-box;
    }
    
    /* Prevent images and media from overflowing */
    .content img,
    .content video,
    .content iframe,
    .content embed,
    .content object{
        max-width: 100%;
        height: auto;
    }
    
    /* Fixed header on mobile â€” compact to maximize card height */
    .home-header{
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 100;
        margin: 0 !important;
        padding: 1.25rem 1.5rem 1rem 1.5rem;
        background-color: var(--color-black);
        border: none;
        border-bottom: 1px solid var(--color-white);
        flex-shrink: 0;
        width: 100vw;
        box-sizing: border-box;
    }
    
    
    /* Ensure featured projects don't overflow */
    
    
    /* Works CTA removed on mobile */
    .works-cta{
        display: none;
    }
    
    .get-in-touch{
        display: none; /* Hide GET IN TOUCH on mobile - fixed viewport */
    }
    
    .content-footer{
        display: none; /* Hide footer on mobile - fixed viewport */
    }
    
    /* Filter controls mobile styles */
    .works-filter-toggle{
        display: flex; /* Show toggle on mobile */
    }
    
    /* Ensure filter badge is visible on mobile */
    .filter-badge.show{
        display: flex !important;
    }
    
    /* Mobile: Remove indentation from section titles */
    .nav-section-title{
        padding-left: 1rem; /* Minimal left padding on mobile */
        padding-right: 1rem;
        padding-top: 0.75rem; /* Reduced from default */
        padding-bottom: 0.75rem; /* Reduced from default */
    }
    
    /* Condense nav sections on mobile */
    .nav-section{
        margin-bottom: 0.5rem; /* Reduced spacing between sections */
    }
    
    /* Condense works list items on mobile */
    .works-list li{
        border-top-width: 0.5px; /* Thinner borders */
    }
    
    .sidebar li{
        font-size: 0.85rem; /* Slightly smaller text */
    }
    
    /* Mobile: Add indentation to items inside sections */
    .works-list li,
    .works-list .project-link-wrapper{
        padding-left: 1.5rem; /* Indent project items */
    }
    
    /* Adjust active project border for mobile indentation */
    .sidebar li:has(a.active) .project-link-wrapper,
    .sidebar li .project-link-wrapper:has(a.active){
        padding-left: calc(1.5rem - 3px); /* Account for 3px border */
    }
    
    /* Desktop: always show filters */
    .works-section:not(.filter-collapsed) .filter-controls{
        max-height: 1000px;
        border-bottom: 1px solid var(--color-black);
    }
    
    /* Mobile: collapsed by default */
    .works-section.filter-collapsed .filter-controls{
        max-height: 0;
        border-bottom: none;
        overflow: hidden;
    }
    
    /* Mobile: When filter panel is open, make it take up more space and overlay the project list */
    .works-section:not(.filter-collapsed) .filter-controls{
        max-height: 80vh; /* Take up more space on mobile */
        border-bottom: 1px solid var(--color-black);
    }
    
    /* Mobile: Condense fixed sections when filter panel is open */
    .fixed-section{
        max-height: 200px; /* Set a max-height for smooth transition */
        overflow: hidden;
        transition: max-height 0.3s var(--ease-weighted), opacity 0.25s var(--ease-weighted), padding 0.3s var(--ease-weighted), margin 0.3s var(--ease-weighted);
    }
    
    .sidebar.filter-panel-open .fixed-section{
        max-height: 0 !important;
        opacity: 0;
        padding-top: 0;
        padding-bottom: 0;
        margin-top: 0;
        margin-bottom: 0;
    }
    
    .sidebar.filter-panel-open .fixed-section .nav-section-title{
        padding-top: 0 !important;
        padding-bottom: 0 !important;
        margin: 0;
        border-top: none !important;
        border-bottom: none !important;
        transition: padding 0.3s var(--ease-weighted), border 0.2s var(--ease-weighted);
    }
    
    .filter-content{
        display: block;
    }
    
    .sort-buttons{
        grid-template-columns: 1fr 1fr;
        gap: 0;
        width: 100%;
        /* Border removed - filter-controls handles the border */
        padding: 0;
    }
    
    .sort-button{
        padding: 1rem 1.25rem; /* Larger touch target - min 44px height */
        gap: 0.5rem;
        flex-direction: row; /* Horizontal layout on mobile */
        justify-content: center;
        min-height: 44px; /* Minimum touch target size */
    }
    
    .sort-icon{
        width: 18px; /* Larger icon */
        height: 18px;
        margin-right: 0.375rem;
    }
    
    .sort-label{
        font-size: 0.875rem; /* Larger, more readable text */
    }
    
    .filter-tags{
        display: grid;
        grid-template-columns: repeat(3, 1fr); /* 3 columns */
        gap: 0.5rem; /* More spacing between tags */
        padding: 1rem 1rem 1.25rem 1rem; /* More padding for touch targets */
    }
    
    .filter-tag{
        padding: 0.75rem 0.875rem; /* Larger padding for touch targets */
        font-size: 0.875rem; /* Larger, more readable font */
        min-height: 44px; /* Minimum touch target size (Apple/Google guidelines) */
        border-radius: 0; /* Sharp corners for brutalist look */
    }
    
    
    /* Responsive padding for larger mobile screens */
    @media screen and (min-width: 480px) and (max-width: 767px) {
        .featured-work,
        .about-section,
        .content-footer{
            padding-left: 2rem;
            padding-right: 2rem;
        }
        
        .home-header{
            padding-left: 2rem;
            padding-right: 2rem;
        }
    }
    
    .home-header h1{
        color: var(--color-white);
        font-size: 1.75rem;
        margin-bottom: 0.625rem;
    }

    .home-tagline{
        color: var(--color-white);
        opacity: 0.9;
        font-size: 0.875rem;
        margin-top: 0;
        line-height: 1.45;
    }
    
    
    
    
    .works-cta{
        margin-top: 3rem;
        padding-top: 1.5rem;
    }
    
    .works-cta-link{
        width: 100%;
        justify-content: center;
    }
    
    /* Adjust font sizes */
    .content h1{
        font-size: 1.75rem; /* Larger on mobile for impact */
    }
    
    .content h2{
        font-size: 1.1rem;
    }
    
    .home-tagline{
        font-size: 1rem; /* Slightly larger */
    }
    
    /* Footer */
    .get-in-touch{
        margin-top: 2rem;
    }
    
    .get-in-touch-link{
        padding: 1rem 0;
        font-size: 0.75rem;
    }
    
    .content-footer{
        margin-top: 2rem;
        padding-top: 1.5rem;
        padding-bottom: 2rem;
        margin-bottom: 2rem; /* Extra space at bottom for scrolling */
    }
}

@media screen and (max-width: 480px) {
    /* Even smaller adjustments for phones */
    .content{
        padding: 1rem 1rem;
    }
    
    .logo-header{
        padding: 1rem 1.5rem;
    }
    
    .content h1{
        font-size: 1.25rem;
    }
    
    .content h2{
        font-size: 1rem;
    }
    
    
    .works-cta-link{
        padding: 0.625rem 1rem;
        font-size: 0.8rem;
    }
    
    .section-icon{
        width: 1rem;
        height: 1rem;
    }
}

